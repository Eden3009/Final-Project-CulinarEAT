{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./css/AddRecipePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddRecipePage(){const[recipeName,setRecipeName]=useState('');const[ingredients,setIngredients]=useState([{quantity:'',measure:'',ingredient:''}]);const[instructions,setInstructions]=useState(['']);const[photo,setPhoto]=useState(null);const[successMessage,setSuccessMessage]=useState('');const[errorMessage,setErrorMessage]=useState('');const handleAddIngredient=()=>{setIngredients([...ingredients,{quantity:'',measure:'',ingredient:''}]);};const handleIngredientChange=(index,event)=>{const{name,value}=event.target;const newIngredients=[...ingredients];newIngredients[index][name]=value;setIngredients(newIngredients);};const handleInstructionChange=(index,event)=>{const newInstructions=[...instructions];newInstructions[index]=event.target.value;setInstructions(newInstructions);};const handleAddInstruction=()=>{setInstructions([...instructions,'']);};const handlePhotoChange=event=>{setPhoto(event.target.files[0]);};const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('recipeName',recipeName);formData.append('ingredients',JSON.stringify(ingredients));formData.append('instructions',JSON.stringify(instructions));if(photo)formData.append('photo',photo);try{const response=await axios.post('http://localhost:5001/add-recipe',formData,{headers:{'Content-Type':'multipart/form-data'},withCredentials:true});setSuccessMessage('Recipe added successfully!');setErrorMessage('');console.log(response.data);}catch(error){setErrorMessage('An error occurred while adding the recipe. Please try again.');console.error('Error adding recipe:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-recipe-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add a New Recipe\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"recipeName\",children:\"Recipe Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"recipeName\",value:recipeName,onChange:e=>setRecipeName(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Ingredients\"}),ingredients.map((ingredient,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"quantity\",placeholder:\"Quantity\",value:ingredient.quantity,onChange:e=>handleIngredientChange(index,e),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"measure\",placeholder:\"Measure Type\",value:ingredient.measure,onChange:e=>handleIngredientChange(index,e),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ingredient\",placeholder:\"Ingredient\",value:ingredient.ingredient,onChange:e=>handleIngredientChange(index,e),required:true})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddIngredient,children:\"+ Add Ingredient\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Instructions\"}),instructions.map((instruction,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"instruction-group\",children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:`Step ${index+1}`,value:instruction,onChange:e=>handleInstructionChange(index,e),required:true})},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddInstruction,children:\"+ Add Step\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photo\",children:\"Upload a Photo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"photo\",onChange:handlePhotoChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Upload Recipe\"})]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"success\",children:successMessage}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:errorMessage})]});}export default AddRecipePage;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","AddRecipePage","recipeName","setRecipeName","ingredients","setIngredients","quantity","measure","ingredient","instructions","setInstructions","photo","setPhoto","successMessage","setSuccessMessage","errorMessage","setErrorMessage","handleAddIngredient","handleIngredientChange","index","event","name","value","target","newIngredients","handleInstructionChange","newInstructions","handleAddInstruction","handlePhotoChange","files","handleSubmit","e","preventDefault","formData","FormData","append","JSON","stringify","response","post","headers","withCredentials","console","log","data","error","className","children","onSubmit","htmlFor","type","id","onChange","required","map","placeholder","onClick","instruction"],"sources":["C:/Users/edens/Desktop/Final Project/src/AddRecipePage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './css/AddRecipePage.css';\r\n\r\nfunction AddRecipePage() {\r\n    const [recipeName, setRecipeName] = useState('');\r\n    const [ingredients, setIngredients] = useState([{ quantity: '', measure: '', ingredient: '' }]);\r\n    const [instructions, setInstructions] = useState(['']);\r\n    const [photo, setPhoto] = useState(null);\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const handleAddIngredient = () => {\r\n        setIngredients([...ingredients, { quantity: '', measure: '', ingredient: '' }]);\r\n    };\r\n\r\n    const handleIngredientChange = (index, event) => {\r\n        const { name, value } = event.target;\r\n        const newIngredients = [...ingredients];\r\n        newIngredients[index][name] = value;\r\n        setIngredients(newIngredients);\r\n    };\r\n\r\n    const handleInstructionChange = (index, event) => {\r\n        const newInstructions = [...instructions];\r\n        newInstructions[index] = event.target.value;\r\n        setInstructions(newInstructions);\r\n    };\r\n\r\n    const handleAddInstruction = () => {\r\n        setInstructions([...instructions, '']);\r\n    };\r\n\r\n    const handlePhotoChange = (event) => {\r\n        setPhoto(event.target.files[0]);\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('recipeName', recipeName);\r\n        formData.append('ingredients', JSON.stringify(ingredients));\r\n        formData.append('instructions', JSON.stringify(instructions));\r\n        if (photo) formData.append('photo', photo);\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:5001/add-recipe', formData, {\r\n                headers: { 'Content-Type': 'multipart/form-data' },\r\n                withCredentials: true,\r\n            });\r\n            setSuccessMessage('Recipe added successfully!');\r\n            setErrorMessage('');\r\n            console.log(response.data);\r\n        } catch (error) {\r\n            setErrorMessage('An error occurred while adding the recipe. Please try again.');\r\n            console.error('Error adding recipe:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"add-recipe-page\">\r\n            <h2>Add a New Recipe</h2>\r\n            <form onSubmit={handleSubmit}>\r\n\r\n                {/* Recipe Name */}\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"recipeName\">Recipe Name:</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        id=\"recipeName\" \r\n                        value={recipeName} \r\n                        onChange={(e) => setRecipeName(e.target.value)} \r\n                        required \r\n                    />\r\n                </div>\r\n\r\n                {/* Ingredients */}\r\n                <h3>Ingredients</h3>\r\n                {ingredients.map((ingredient, index) => (\r\n                    <div key={index} className=\"ingredient-group\">\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"quantity\" \r\n                            placeholder=\"Quantity\" \r\n                            value={ingredient.quantity} \r\n                            onChange={(e) => handleIngredientChange(index, e)} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"measure\" \r\n                            placeholder=\"Measure Type\" \r\n                            value={ingredient.measure} \r\n                            onChange={(e) => handleIngredientChange(index, e)} \r\n                            required \r\n                        />\r\n                        <input \r\n                            type=\"text\" \r\n                            name=\"ingredient\" \r\n                            placeholder=\"Ingredient\" \r\n                            value={ingredient.ingredient} \r\n                            onChange={(e) => handleIngredientChange(index, e)} \r\n                            required \r\n                        />\r\n                    </div>\r\n                ))}\r\n                <button type=\"button\" onClick={handleAddIngredient}>+ Add Ingredient</button>\r\n\r\n                {/* Instructions */}\r\n                <h3>Instructions</h3>\r\n                {instructions.map((instruction, index) => (\r\n                    <div key={index} className=\"instruction-group\">\r\n                        <textarea\r\n                            placeholder={`Step ${index + 1}`}\r\n                            value={instruction}\r\n                            onChange={(e) => handleInstructionChange(index, e)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                ))}\r\n                <button type=\"button\" onClick={handleAddInstruction}>+ Add Step</button>\r\n\r\n                {/* Photo Upload */}\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"photo\">Upload a Photo:</label>\r\n                    <input type=\"file\" id=\"photo\" onChange={handlePhotoChange} />\r\n                </div>\r\n\r\n                {/* Submit Button */}\r\n                <button type=\"submit\" className=\"submit-button\">Upload Recipe</button>\r\n            </form>\r\n\r\n            {successMessage && <div className=\"success\">{successMessage}</div>}\r\n            {errorMessage && <div className=\"error\">{errorMessage}</div>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddRecipePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}