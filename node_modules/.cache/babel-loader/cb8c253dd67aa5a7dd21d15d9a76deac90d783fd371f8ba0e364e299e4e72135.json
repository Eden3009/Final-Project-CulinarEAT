{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import HomePage from'./HomePage';import AddRecipePage from'./AddRecipePage';import ShoppingListPage from'./ShoppingListPage';import FavoritesPage from'./FavoritesPage';import ProfilePage from'./ProfilePage';import LoginPage from'./LoginPage';import RegistrationPage from'./RegistrationPage';import ChatbotPage from'./ChatbotPage';import RecipeDetailPage from'./RecipeDetailPage';import Navbar from'./Navbar';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);// Check for session status on initial load\nuseEffect(()=>{axios.get('http://localhost:5001/session',{withCredentials:true}).then(response=>{if(response.data.message==='Session valid'){setIsLoggedIn(true);}else{setIsLoggedIn(false);}}).catch(()=>{setIsLoggedIn(false);});},[]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{isLoggedIn:isLoggedIn,setIsLoggedIn:setIsLoggedIn}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-recipe\",element:isLoggedIn?/*#__PURE__*/_jsx(AddRecipePage,{}):/*#__PURE__*/_jsx(LoginPage,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/shopping-list\",element:isLoggedIn?/*#__PURE__*/_jsx(ShoppingListPage,{}):/*#__PURE__*/_jsx(LoginPage,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/favorites\",element:isLoggedIn?/*#__PURE__*/_jsx(FavoritesPage,{}):/*#__PURE__*/_jsx(LoginPage,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:isLoggedIn?/*#__PURE__*/_jsx(ProfilePage,{}):/*#__PURE__*/_jsx(LoginPage,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegistrationPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/chatbot\",element:isLoggedIn?/*#__PURE__*/_jsx(ChatbotPage,{}):/*#__PURE__*/_jsx(LoginPage,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/_jsx(Route,{path:\"/recipe-detail\",element:/*#__PURE__*/_jsx(RecipeDetailPage,{})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","HomePage","AddRecipePage","ShoppingListPage","FavoritesPage","ProfilePage","LoginPage","RegistrationPage","ChatbotPage","RecipeDetailPage","Navbar","axios","jsx","_jsx","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","get","withCredentials","then","response","data","message","catch","children","path","element"],"sources":["C:/Users/edens/Desktop/Final Project/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\r\nimport HomePage from './HomePage';\r\nimport AddRecipePage from './AddRecipePage';\r\nimport ShoppingListPage from './ShoppingListPage';\r\nimport FavoritesPage from './FavoritesPage';\r\nimport ProfilePage from './ProfilePage';\r\nimport LoginPage from './LoginPage';\r\nimport RegistrationPage from './RegistrationPage';\r\nimport ChatbotPage from './ChatbotPage';\r\nimport RecipeDetailPage from './RecipeDetailPage';\r\nimport Navbar from './Navbar';\r\nimport axios from 'axios';\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n  // Check for session status on initial load\r\n  useEffect(() => {\r\n    axios.get('http://localhost:5001/session', { withCredentials: true })\r\n      .then((response) => {\r\n        if (response.data.message === 'Session valid') {\r\n          setIsLoggedIn(true);\r\n        } else {\r\n          setIsLoggedIn(false);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setIsLoggedIn(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Navbar isLoggedIn={isLoggedIn} setIsLoggedIn={setIsLoggedIn} />\r\n        <Routes>\r\n          <Route path=\"/\" element={<HomePage />} />\r\n          <Route path=\"/add-recipe\" element={isLoggedIn ? <AddRecipePage /> : <LoginPage setIsLoggedIn={setIsLoggedIn} />} />\r\n          <Route path=\"/shopping-list\" element={isLoggedIn ? <ShoppingListPage /> : <LoginPage setIsLoggedIn={setIsLoggedIn} />} />\r\n          <Route path=\"/favorites\" element={isLoggedIn ? <FavoritesPage /> : <LoginPage setIsLoggedIn={setIsLoggedIn} />} />\r\n          <Route path=\"/profile\" element={isLoggedIn ? <ProfilePage /> : <LoginPage setIsLoggedIn={setIsLoggedIn} />} />\r\n          <Route path=\"/login\" element={<LoginPage setIsLoggedIn={setIsLoggedIn} />} />\r\n          <Route path=\"/register\" element={<RegistrationPage />} />\r\n          <Route path=\"/chatbot\" element={isLoggedIn ? <ChatbotPage /> : <LoginPage setIsLoggedIn={setIsLoggedIn} />} />\r\n          <Route path=\"/recipe-detail\" element={<RecipeDetailPage />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CACzE,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CAEnD;AACAC,SAAS,CAAC,IAAM,CACde,KAAK,CAACQ,GAAG,CAAC,+BAA+B,CAAE,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CAClEC,IAAI,CAAEC,QAAQ,EAAK,CAClB,GAAIA,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAK,eAAe,CAAE,CAC7CN,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,IAAM,CACLA,aAAa,CAAC,KAAK,CAAC,CACtB,CACF,CAAC,CAAC,CACDO,KAAK,CAAC,IAAM,CACXP,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEL,IAAA,CAACf,MAAM,EAAA4B,QAAA,cACLX,KAAA,QAAAW,QAAA,eACEb,IAAA,CAACH,MAAM,EAACO,UAAU,CAAEA,UAAW,CAACC,aAAa,CAAEA,aAAc,CAAE,CAAC,cAChEH,KAAA,CAACf,MAAM,EAAA0B,QAAA,eACLb,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEf,IAAA,CAACZ,QAAQ,GAAE,CAAE,CAAE,CAAC,cACzCY,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,aAAa,CAACC,OAAO,CAAEX,UAAU,cAAGJ,IAAA,CAACX,aAAa,GAAE,CAAC,cAAGW,IAAA,CAACP,SAAS,EAACY,aAAa,CAAEA,aAAc,CAAE,CAAE,CAAE,CAAC,cACnHL,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,gBAAgB,CAACC,OAAO,CAAEX,UAAU,cAAGJ,IAAA,CAACV,gBAAgB,GAAE,CAAC,cAAGU,IAAA,CAACP,SAAS,EAACY,aAAa,CAAEA,aAAc,CAAE,CAAE,CAAE,CAAC,cACzHL,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,YAAY,CAACC,OAAO,CAAEX,UAAU,cAAGJ,IAAA,CAACT,aAAa,GAAE,CAAC,cAAGS,IAAA,CAACP,SAAS,EAACY,aAAa,CAAEA,aAAc,CAAE,CAAE,CAAE,CAAC,cAClHL,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,UAAU,CAACC,OAAO,CAAEX,UAAU,cAAGJ,IAAA,CAACR,WAAW,GAAE,CAAC,cAAGQ,IAAA,CAACP,SAAS,EAACY,aAAa,CAAEA,aAAc,CAAE,CAAE,CAAE,CAAC,cAC9GL,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEf,IAAA,CAACP,SAAS,EAACY,aAAa,CAAEA,aAAc,CAAE,CAAE,CAAE,CAAC,cAC7EL,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEf,IAAA,CAACN,gBAAgB,GAAE,CAAE,CAAE,CAAC,cACzDM,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,UAAU,CAACC,OAAO,CAAEX,UAAU,cAAGJ,IAAA,CAACL,WAAW,GAAE,CAAC,cAAGK,IAAA,CAACP,SAAS,EAACY,aAAa,CAAEA,aAAc,CAAE,CAAE,CAAE,CAAC,cAC9GL,IAAA,CAACd,KAAK,EAAC4B,IAAI,CAAC,gBAAgB,CAACC,OAAO,cAAEf,IAAA,CAACJ,gBAAgB,GAAE,CAAE,CAAE,CAAC,EACxD,CAAC,EACN,CAAC,CACA,CAAC,CAEb,CAEA,cAAe,CAAAO,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}